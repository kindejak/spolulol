var I=["Chráníme naši budoucnost!","Letos půjde o demokracii!","Teď je čas mít odvahu a dělat správná rozhodnutí!","Marek Eben nám dluží peníze"],b=["Teď je čas stát na správné straně","Teď jde o všechno"],y=[{url:"https://picsum.photos/800",weight:3},{url:"./public/masina.jpg",weight:1},{url:"./public/cert.jpg",weight:1},{url:"./public/less-home.jpg",weight:1}];var r=t=>t[Math.floor(Math.random()*t.length)];var A=680,z=680;var C=y.flatMap(({url:t,weight:c})=>Array(c).fill(t)),L=new FileReader,N=new Image;N.src="public/logo-light.png";var D=new Image;D.src="public/logo-dark.png";var k=new Image;k.src="public/SPOLU-kampan-2025-crop.png";var o=new Image,g="Test text",p="Test text",f=async()=>{let t=await fetch(r(C));return new Promise(c=>{let a=new Image;a.addEventListener("load",()=>{o=a,c()}),a.crossOrigin="anonymous",a.src=t.url})},h=()=>{g=r(I),p=r(b)},n=document.getElementById("picture"),e=n.getContext("2d"),x=new FontFace("Bebas Neue","url(public/BebasNeue-Bold.ttf)"),M=new FontFace("Ancizar Serif","url(public/AncizarSerif-Regular.ttf)"),_=async()=>{await x.load(),document.fonts.add(x),document.fonts.add(M)},S=t=>{!t.type.startsWith("image/")||L.readAsDataURL(t)};n.addEventListener("dragover",t=>t.preventDefault());n.addEventListener("drop",t=>{t.preventDefault(),!(!t.dataTransfer||t.dataTransfer.files.length<=0)&&S(t.dataTransfer.files[0])});var s=async()=>{e.fillStyle="black",e.fillRect(0,0,n.width,n.height);let t=n.width/o.width,c=n.height/o.height,a=Math.max(t,c);e.setTransform(a,0,0,a,0,0),e.drawImage(o,0,0),e.setTransform();let j=l.value||p,O=i.value||g,d=60,E=30,u=20,T=10,w=u*2+d+E+T+120,m=n.height-w;e.fillStyle="#00EA29",e.fillRect(0,m,n.width,w),e.fillStyle="black",e.font=`${d}px 'Bebas Neue'`,e.fillText(j,30,m+u*4),e.font=`${E}px 'Ancizar Serif'`,e.fillText(O,30,m+u*3+d+T),e.drawImage(k,A,z)};L.addEventListener("load",t=>{o=new Image,o.addEventListener("load",()=>s()),o.src=t.target.result});var U=document.getElementById("randomize");U.addEventListener("click",async()=>{h(),await f(),s()});var G=document.getElementById("randomize-img");G.addEventListener("click",async()=>{await f(),s()});var H=document.getElementById("randomize-text");H.addEventListener("click",()=>{h(),s()});var B=document.getElementById("customImage");B.addEventListener("change",t=>{t.preventDefault(),!(t.target.files.length<=0)&&S(t.target.files[0])});var W=document.getElementById("customImageBtn");W.addEventListener("click",()=>{B.click()});var i=document.getElementById("customText"),F=async t=>{(t.type==="input"||i.value)&&(g=i.value,s())};i.addEventListener("click",F);i.addEventListener("input",F);var l=document.getElementById("customTextTitle"),R=async t=>{(t.type==="input"||l.value)&&(p=l.value,s())};l.addEventListener("click",R);l.addEventListener("input",R);var v=document.createElement("a");v.setAttribute("download","spolu-stat.jpg");var Y=document.getElementById("save");Y.addEventListener("click",t=>{t.preventDefault(),v.setAttribute("href",n.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream")),v.click()});_();h();f().then(()=>s());
//# sourceMappingURL=index.js.map
